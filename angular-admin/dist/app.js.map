{"version":3,"sources":["main.js","filter/uHtml.js","page/example.js","page/index.js","page/login.js","service/Api.js","service/Page.js","service/User.js","page/example.html","page/index.html","page/login.html"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;uECnCA;ACAA;ACAA","file":"app.js","sourcesContent":["ued.ajax.mock('mock')\n\nangular.module('ued', []).run(function (User) {\n    if (!User.checkLogin()) {\n        return\n    }\n    $.widget.bridge('uibutton', $.ui.button)\n    $('[data-toggle=\"tooltip\"]').tooltip()\n    $('[data-widget=\"tree\"]').tree()\n    $(window).trigger('resize')\n})\n\nangular.element(document).ready(function () {\n    angular.bootstrap(document, ['ued'])\n})\n","/**\r\n * 输出富文本\r\n *\r\n * @example\r\n *  <div ng-bind-html=\"xxx | uHtml\"></div>\r\n */\r\nangular.module('ued').filter('uHtml', function ($sce) {\r\n    return function (source) {\r\n        return $sce.trustAsHtml(source)\r\n    }\r\n})","angular.module('ued').controller('example', function ($scope, Page) {\n    Page.show()\n})\n","angular.module('ued').controller('index', function ($scope, Page, User) {\n    $scope.userInfo = User.getUserInfo()\n\n    // 应该是从接口获取，此处写死是示例\n    $scope.menuList = [\n        {\n            type: 'header',\n            name: '我是文字'\n        },\n        {\n            type: 'treeview',\n            name: '我是菜单',\n            child: [\n                {name: 'example', link: 'example.html'},\n                {name: 'abc', link: 'abc.html'},\n                {name: 'abc', link: 'abc.html'}\n            ]\n        },\n        {\n            type: 'treeview',\n            name: '我是菜单',\n            child: [\n                {name: 'abc', link: 'abc.html'},\n                {name: 'abc', link: 'abc.html'},\n                {name: 'abc', link: 'abc.html'}\n            ]\n        },\n        {\n            type: 'header',\n            name: '我是文字2'\n        },\n        {\n            type: 'treeview',\n            name: '我是菜单2',\n            child: [\n                {name: 'abc', link: 'abc.html'},\n                {name: 'abc', link: 'abc.html'},\n                {name: 'abc', link: 'abc.html'}\n            ]\n        }\n    ]\n\n    $('.sidebar-menu').on('click', 'a', function (event) {\n        var href = $(event.target).attr('href')\n        if (href && href !== '#') {\n            $('.content-iframe > iframe').attr('src', href)\n        }\n        return false\n    })\n\n    Page.show()\n})\n","angular.module('ued').controller('login', function ($scope, Api, Page) {\n    $scope.onConfirm = function () {\n        var formData = {\n            username: $scope.username,\n            password: $scope.password\n        }\n        if (ued.isEmpty(formData.username) || ued.isEmpty(formData.password)) {\n            $scope.tips = {\n                type: 'warning',\n                msg: '用户名或密码不能为空'\n            }\n            return\n        }\n        $scope.tips = null\n        $scope.loading = true\n        Api.login(formData).then(function (res) {\n            // 如果有 callback 参数，则跳到 callback\n            // 否则跳到首页\n            ued.replace(ued.query('callback') || 'index.html')\n        }, function (res) {\n            $scope.loading = false\n            $scope.tips = {\n                type: 'warning',\n                msg: res.errorMsg\n            }\n        })\n    }\n\n    Page.show()\n})\n","angular.module('ued').service('Api', function () {\n    /**\n     * 调用登录接口的示例\n     * @param data\n     * @returns {Promise}\n     */\n    this.login = function (data) {\n        return ued.post('/api/login', data)\n    }\n})\n","angular.module('ued').service('Page', function () {\n    /**\n     * 显示页面\n     */\n    this.show = function () {\n        $('.page').show()\n    }\n\n    /**\n     * 隐藏页面\n     */\n    this.hide = function () {\n        $('.page').hide()\n    }\n\n    /**\n     * 获取当前页面名字\n     */\n    this.current = function () {\n        return $('html').data('page')\n    }\n})\n","angular.module('ued').service('User', function (Page) {\n    /**\n     * 获取登录后的用户信息\n     * @returns {Object}\n     */\n    this.getUserInfo = function () {\n        // !!! 请根据后端登录成功后写的 cookie 进行相应的模拟和修改\n        if (ued.isLocal()) {\n            ued.cookie.set('userInfo', {\n                name: '用户名放这里'\n            })\n        }\n        return ued.cookie.getObject('userInfo')\n    }\n\n    /**\n     * 检查是否登录，如果没有登录，会立即跳转到登录页\n     * 登录成功之后，会自动回来上一页\n     * @param force 是否强制去登录页\n     */\n    this.checkLogin = function (force) {\n        if (\n            Page.current() !== 'login'\n            && (force || ued.isEmpty(this.getUserInfo()))\n        ) {\n            ued.replace('login.html', {callback: ued.href()})\n        }\n    }\n})\n","<section class=\"content-header\">\n    <h1>示例 <small>组件使用示例</small></h1>\n    <ol class=\"breadcrumb\">\n        <li>\n            <a href=\"a.html\"><i class=\"fa fa-dashboard\"></i> AAA</a>\n        </li>\n        <li>\n            <a href=\"b.html\">BBB</a>\n        </li>\n        <li class=\"active\">\n            <span>示例</span>\n        </li>\n    </ol>\n</section>\n\n<section class=\"content\">\n    <div class=\"row\">\n        <div class=\"col-md-6\">\n            <div class=\"box box-{{color || 'primary'}}\">\n                <div class=\"box-header with-border\">\n                    <h3 class=\"box-title\">盒子</h3>\n                </div>\n                <div class=\"box-body\">\n                    <p>test</p>\n                    <div class=\"btn-group pull-right\">\n                        <button type=\"button\" class=\"btn btn-flat btn-primary\" ng-click=\"loading = true\">点击模拟加载</button>\n                        <button type=\"button\" class=\"btn btn-flat btn-default\" ng-click=\"color = 'danger'\">点击切换颜色</button>\n                    </div>\n                </div>\n                <div class=\"overlay\" ng-show=\"loading\">\n                    <i class=\"fa fa-refresh fa-spin\"></i>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-md-6\">\n            <div class=\"nav-tabs-custom\">\n                <ul class=\"nav nav-tabs pull-right\">\n                    <li><a href=\"#tab2\" data-toggle=\"tab\" aria-expanded=\"false\">Area</a></li>\n                    <li class=\"active\"><a href=\"#tab1\" data-toggle=\"tab\" aria-expanded=\"true\">Donut</a></li>\n                    <li class=\"pull-left header\"><i class=\"fa fa-inbox\"></i> Sales</li>\n                </ul>\n                <div class=\"tab-content\">\n                    <div class=\"chart tab-pane\" id=\"tab2\">\n                        <p>Area</p>\n                    </div>\n                    <div class=\"chart tab-pane active\" id=\"tab1\">\n                        <p>Donut</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</section>","<div class=\"wrapper\">\n    <header class=\"main-header\">\n        <a href=\"index.html\" class=\"logo\">\n            <span class=\"logo-mini\">管</span>\n            <span class=\"logo-lg\">后台管理系统</span>\n        </a>\n        <nav class=\"navbar navbar-static-top\">\n            <a href=\"#\" class=\"sidebar-toggle\" data-toggle=\"push-menu\" role=\"button\">\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n                <span class=\"icon-bar\"></span>\n            </a>\n            <div class=\"navbar-custom-menu\">\n                <ul class=\"nav navbar-nav\">\n                    <li data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"退出登录\">\n                        <a href=\"login.html\">\n                            {{userInfo.name}} <i class=\"fa fa-fw fa-sign-out\"></i>\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n    </header>\n\n    <aside class=\"main-sidebar\">\n        <section class=\"sidebar\">\n            <ul class=\"sidebar-menu\" data-widget=\"tree\">\n                <li class=\"{{menu.type}}\" ng-repeat=\"menu in menuList track by $index\">\n                    <span ng-if=\"menu.type == 'header'\">{{menu.name}}</span>\n                    <a ng-if=\"menu.type != 'header'\" href=\"{{menu.link}}\">\n                        <i class=\"fa {{menu.icon || 'fa-th'}}\"></i> <span>{{menu.name}}</span>\n                        <span class=\"pull-right-container\"><i class=\"fa fa-angle-left pull-right\"></i></span>\n                    </a>\n                    <ul ng-if=\"menu.type == 'treeview' && menu.child.length\" class=\"treeview-menu\">\n                        <li ng-repeat=\"child in menu.child track by $index\">\n                            <a href=\"{{child.link}}\"><i class=\"fa {{child.icon || 'fa-circle-o'}}\"></i> {{child.name}}</a>\n                        </li>\n                    </ul>\n                </li>\n            </ul>\n        </section>\n    </aside>\n\n    <div class=\"content-wrapper\">\n        <div class=\"content-iframe\">\n            <iframe src=\"example.html\"></iframe>\n        </div>\n    </div>\n</div>\n","<div class=\"login-box\">\n    <div class=\"login-logo\">\n        后台管理系统\n    </div>\n    <div class=\"login-box-body\">\n        <p class=\"login-box-msg\">请登录后再操作</p>\n        <div class=\"form-group has-feedback\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"用户名\" ng-model=\"username\">\n            <span class=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n        </div>\n        <div class=\"form-group has-feedback\">\n            <input type=\"password\" class=\"form-control\" placeholder=\"密码\" ng-model=\"password\">\n            <span class=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n        </div>\n        <div class=\"row\">\n            <div class=\"col-xs-8\">\n            </div>\n            <div class=\"col-xs-4\">\n                <button type=\"submit\" class=\"btn btn-primary btn-block btn-flat\" ng-class=\"{disabled: loading}\" ng-click=\"onConfirm()\">\n                    {{loading ? '登录中...' : '登录'}}\n                </button>\n            </div>\n        </div>\n        <div class=\"alert alert-{{tips.type}} alert-dismissible tips\" ng-show=\"tips\">\n            <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">×</button>\n            {{tips.msg}}\n        </div>\n    </div>\n</div>\n"]}